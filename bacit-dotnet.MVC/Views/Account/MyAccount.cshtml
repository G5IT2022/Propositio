@using bacit_dotnet.MVC.Entities
@using bacit_dotnet.MVC.Models;
@model MyAccountViewModel;
@{
    ViewBag.Title = "Propositio | Min Side";
}
<!--Overskrifter og menyvalg for Min Side-->
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button" role="tab" aria-controls="home" aria-selected="true">Mine Opplysninger</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="team-tab" data-bs-toggle="tab" data-bs-target="#teams" type="button" role="tab" aria-controls="profile" aria-selected="false">Mine Team</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="suggestions-tab" data-bs-toggle="tab" data-bs-target="#suggestions" type="button" role="tab" aria-controls="profile" aria-selected="false">Mine Forslag</button>
    </li>
</ul>
<!--Informasjon om brukeren-->
<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="info" role="tabpanel" aria-labelledby="info-tab">
        <div class="col-12">Navn: @Model.employee.name</div>
        <div class="col-12">Ansattnummer: @Model.employee.emp_id</div>
        <div class="col-12">Rolle: @Model.employee.role.role_name</div>
        <div class="col-12">Team</div>
        @foreach (TeamEntity team in Model.employee.teams)
        {
            <div class="col-12">@team.team_name</div>
        }
    </div>
    <!--Informasjon om hvem som er i team med brukeren-->
    <div class="tab-pane fade" id="teams" role="tabpanel" aria-labelledby="team-tab">
        <!--foreach-loop som skriver ut alle medlemmene i teamet ditt-->
        @foreach (TeamEntity team in Model.teams)
        {
            <h3>@team.team_name</h3>
            <table>
                <tr>
                    <th>AnsattNummer</th>
                    <th>Navn </th>
                    <th>Rolle</th>
                </tr>

                @foreach (EmployeeEntity employee in team.employees)
                {
                    <tr>
                        <td>@employee.emp_id</td>
                        <td>@employee.name</td>
                        <td>@employee.role.role_name</td>
                    </tr>
                }
            </table>
        }
    </div>
    <div class="tab-pane fade" id="suggestions" role="tabpanel" aria-labelledby="suggestions-tab">
        <!--foreach-loop som skriver ut forslagene til en ansatt-->
        @Html.Partial("_FilterSortControl", new SortOrderModel{actionName = "MyAccount", controllername = "Account"})
        @foreach (SuggestionEntity sugg in Model.suggestions)
        {
            @Html.Partial("_Suggestion", sugg)
        }
    </div>
</div>